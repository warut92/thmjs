//get text from textarea
let inputText = document.getElementById("thm").innerHTML;

//splite new line by regex
  let newLineArr = inputText.split(/\n/g)

//find length
let newLineArrLen = newLineArr.length;
//make variable
let HTMLTableOutput = "";
// looping for create new line on display
for (let i = 0; i < newLineArrLen; i++) {
  HTMLTableOutput += "<tr><td>" + newLineArr[i] + "</td></tr>" + "\n";
}
//replace comma with table tag form
HTMLTableOutput = HTMLTableOutput.replace(/<tr><td>\(([^ )]*)\)<\/td><\/tr>/g, '$1<table>');
HTMLTableOutput = HTMLTableOutput.replace(/ /g, "</td><td>");
HTMLTableOutput = HTMLTableOutput.replace(/1/g, '‡∏î');
HTMLTableOutput = HTMLTableOutput.replace(/2/g, '‡∏£');
HTMLTableOutput = HTMLTableOutput.replace(/3/g, '‡∏°');
HTMLTableOutput = HTMLTableOutput.replace(/4/g, '‡∏ü');
HTMLTableOutput = HTMLTableOutput.replace(/5/g, '‡∏ã');
HTMLTableOutput = HTMLTableOutput.replace(/6/g, '‡∏•');
HTMLTableOutput = HTMLTableOutput.replace(/7/g, '‡∏ó');
HTMLTableOutput = HTMLTableOutput.replace(/7/g, '‡∏ó');
HTMLTableOutput = HTMLTableOutput.replace(/8/g, '‡∏î‡πç');
HTMLTableOutput = HTMLTableOutput.replace(/9/g, '‡∏£‡πç');
// HTMLTableOutput = HTMLTableOutput.replace(/\+/g, '‡∏°‡πç');
HTMLTableOutput = HTMLTableOutput.replace(/\*/g, '‡πç');
HTMLTableOutput = HTMLTableOutput.replace(/\./g, '‡∏∫');
HTMLTableOutput = HTMLTableOutput.replace(/\\s/g, ' ');
HTMLTableOutput = HTMLTableOutput.replace(/\_/g, ' ');
HTMLTableOutput = HTMLTableOutput.replace(/\[(.*?)\]/g, '<small>$1</small>');
//‡∏Ñ‡∏±‡∏ô‡∏ä‡∏±‡∏Å‡∏≠‡∏≠‡∏Å
HTMLTableOutput = HTMLTableOutput.replace(/([‡∏î‡∏£‡∏°‡∏ü‡∏ã‡∏•‡∏ó])\{/g, '<span style=\"display: inline-block; position: relative;\">$1<sub style=\"position: absolute; bottom: -0.5em; left: 50%; transform: translateX(-50%);\"><</sub></span>');
//‡∏Ñ‡∏±‡∏ô‡∏ä‡∏±‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤
HTMLTableOutput = HTMLTableOutput.replace(/([‡∏î‡∏£‡∏°‡∏ü‡∏ã‡∏•‡∏ó])\}/g, '<span style=\"display: inline-block; position: relative;\">$1<sub style=\"position: absolute; bottom: -0.5em; left: 50%; transform: translateX(-50%);\">></sub></span>');
//‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÇ‡∏ô‡πâ‡∏ï‡∏ö‡∏ß‡∏Å
HTMLTableOutput = HTMLTableOutput.replace(/([‡∏î‡∏£‡∏°‡∏ü‡∏ã‡∏•‡∏ó])\+/g, '<span style=\"display: inline-block; position: relative;\">$1<sub style=\"position: absolute; bottom: 0.7em; left: 50%; transform: translateX(-50%);\">+</sub></span>');
//‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏≤‡∏¢‡πÇ‡∏ô‡πâ‡∏ï‡∏•‡∏ö
HTMLTableOutput = HTMLTableOutput.replace(/([‡∏î‡∏£‡∏°‡∏ü‡∏ã‡∏•‡∏ó])\_/g, '<span style=\"display: inline-block; position: relative;\">$1<sub style=\"position: absolute; bottom: 0.7em; left: 50%; transform: translateX(-50%);\">-</sub></span>');
//‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÇ‡∏ô‡πâ‡∏ï‡∏Å‡∏•‡∏≤‡∏á
HTMLTableOutput = HTMLTableOutput.replace(/([‡∏î‡∏£‡∏°‡∏ü‡∏ã‡∏•‡∏ó])\o/g, '<span style=\"display: inline-block; position: relative;\">$1<sub style=\"position: absolute; bottom: 0.6em; left: 50%; transform: translateX(-50%);\">¬∫</sub></span>');
//‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏û‡∏£‡∏°
HTMLTableOutput = HTMLTableOutput.replace(/([‡∏î‡∏£‡∏°‡∏ü‡∏ã‡∏•‡∏ó‡πç])\w/g, '<span style=\"display: inline-block; position: relative;\">$1<sub style=\"position: absolute; bottom: 0.7em; left: 70%; transform: translateX(-50%);\"><small>ùÜ±</small></sub></span>');

HTMLTableOutput = HTMLTableOutput.replace(/([‡∏î‡∏£‡∏°‡∏ü‡∏ã‡∏•‡∏ó‡πç])\^([‡πë‡πí‡πì‡πî‡πï‡πñ‡πó‡πò‡πô‡πê])/g, '<span style=\"display: inline-block; position: relative;\">$1<sub style=\"position: absolute; bottom: 0.8em; left: 50%; transform: translateX(-50%);\"><small>$2</small></sub></span>');

HTMLTableOutput = HTMLTableOutput.replace(/<tr><td><\/td><\/tr>/g, '<\/table><br><table>');

if (HTMLTableOutput !== "<tr><td></td></tr>\n") {
  document.getElementById('thm').innerHTML =
    "<table style=&#34width:100%&#34>\n" + HTMLTableOutput + "</table>";
  }
